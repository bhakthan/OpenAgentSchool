
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for OpenAgentSchool/src/lib/data/patterns/socraticCoach.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../index.html">All files</a> / <a href="index.html">OpenAgentSchool/src/lib/data/patterns</a> socraticCoach.ts</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/89</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/89</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >import { PatternData } from './types';<span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" ></span></span></span>
<span class="cstat-no" title="statement not covered" >import { LearningVisualization } from '@/components/visualization/LearningVisualization';</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >export const socraticCoachPattern: PatternData = {</span>
<span class="cstat-no" title="statement not covered" >  id: 'socratic-coach',</span>
<span class="cstat-no" title="statement not covered" >  name: 'Socratic Coach',</span>
<span class="cstat-no" title="statement not covered" >  description: 'Guides learners via questions rather than answers to build reasoning and recall.',</span>
<span class="cstat-no" title="statement not covered" >  category: 'Education',</span>
<span class="cstat-no" title="statement not covered" >  useCases: [</span>
<span class="cstat-no" title="statement not covered" >    'Concept mastery through questioning',</span>
<span class="cstat-no" title="statement not covered" >    'Exam prep without revealing answers',</span>
<span class="cstat-no" title="statement not covered" >    'Debugging guidance via prompts'</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  whenToUse: 'Use when the learner is close to the solution and needs conceptual nudges, not direct answers.',</span>
<span class="cstat-no" title="statement not covered" >  nodes: [</span>
<span class="cstat-no" title="statement not covered" >    { id: 'input', type: 'input', data: { label: 'Learner Goal/Attempt', nodeType: 'input' }, position: { x: 50, y: 120 } },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'llm1', type: 'default', data: { label: 'Coach (LLM)', nodeType: 'llm' }, position: { x: 280, y: 100 } },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'hint', type: 'default', data: { label: 'Question/Hints', nodeType: 'output' }, position: { x: 520, y: 100 } },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'reflection', type: 'default', data: { label: 'Learner Reflection', nodeType: 'input' }, position: { x: 750, y: 100 } },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'output', type: 'output', data: { label: 'Next Step Unblocked', nodeType: 'output' }, position: { x: 1000, y: 100 } }</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  edges: [</span>
<span class="cstat-no" title="statement not covered" >    { id: 'e1', source: 'input', target: 'llm1', animated: true },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'e2', source: 'llm1', target: 'hint', animated: true, label: 'Socratic Qs' },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'e3', source: 'hint', target: 'reflection', animated: true },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'e4', source: 'reflection', target: 'llm1', animated: true, label: 'Follow-up' },</span>
<span class="cstat-no" title="statement not covered" >    { id: 'e5', source: 'llm1', target: 'output', animated: true }</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  implementation: [</span>
<span class="cstat-no" title="statement not covered" >    'Capture learner goal and current attempt',</span>
<span class="cstat-no" title="statement not covered" >    'Generate 1–3 targeted questions without revealing the answer',</span>
<span class="cstat-no" title="statement not covered" >    'Iterate based on learner reflections',</span>
<span class="cstat-no" title="statement not covered" >    'Stop when learner states they can proceed or shows understanding'</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  advantages: [</span>
<span class="cstat-no" title="statement not covered" >    'Builds durable understanding and recall',</span>
<span class="cstat-no" title="statement not covered" >    'Avoids answer over-reliance',</span>
<span class="cstat-no" title="statement not covered" >    'Encourages metacognition'</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  limitations: [</span>
<span class="cstat-no" title="statement not covered" >    'Slower than giving answers',</span>
<span class="cstat-no" title="statement not covered" >    'Needs good question design',</span>
<span class="cstat-no" title="statement not covered" >    'May frustrate in time-critical contexts'</span>
<span class="cstat-no" title="statement not covered" >  ],</span>
<span class="cstat-no" title="statement not covered" >  relatedPatterns: ['Evaluator-Optimizer', 'Self-Reflection'],</span>
<span class="cstat-no" title="statement not covered" >  businessUseCase: {</span>
<span class="cstat-no" title="statement not covered" >    industry: 'EdTech',</span>
<span class="cstat-no" title="statement not covered" >    description: 'A university LMS integrates Socratic Coach in coding labs to nudge students with targeted questions instead of solutions. This reduces plagiarism, increases conceptual mastery, and improves pass rates in intro CS courses.',</span>
<span class="cstat-no" title="statement not covered" >    visualization: LearningVisualization,</span>
<span class="cstat-no" title="statement not covered" >    enlightenMePrompt: `Propose a safe Socratic coaching service for a programming course.</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >Requirements:</span>
<span class="cstat-no" title="statement not covered" >- Prompt policy: never reveal full answers; generate 1–3 questions tied to rubric competencies</span>
<span class="cstat-no" title="statement not covered" >- Context ingestion: student attempt, unit objectives, recent errors</span>
<span class="cstat-no" title="statement not covered" >- Telemetry: hint efficacy and time-to-unblock</span>
<span class="cstat-no" title="statement not covered" >- Abuse prevention: limit frequency, escalate to TA when stuck</span>
<span class="cstat-no" title="statement not covered" >Provide API routes and a minimal TypeScript/Python sketch.`</span>
<span class="cstat-no" title="statement not covered" >  },</span>
<span class="cstat-no" title="statement not covered" >  codeExample: '// Minimal Socratic Coach loop (TypeScript)\n' +</span>
<span class="cstat-no" title="statement not covered" >    'type CoachTurn = { questions: string[]; hint?: string };\n\n' +</span>
<span class="cstat-no" title="statement not covered" >    'export async function socraticCoach(goal: string, attempt: string): Promise&lt;CoachTurn&gt; {\n' +</span>
<span class="cstat-no" title="statement not covered" >    '  // Generate 1–3 questions that target the gap; do not reveal the answer\n' +</span>
<span class="cstat-no" title="statement not covered" >    "  const prompt = 'You are a Socratic coach. ' +\n" +</span>
<span class="cstat-no" title="statement not covered" >    "                  'Goal: ' + goal + '\\n' + 'Attempt: ' + attempt + '\\n' +\n" +</span>
<span class="cstat-no" title="statement not covered" >    "                  'Ask 1–3 concise questions to guide the learner. Avoid giving the answer. Optionally include a small hint.';\n" +</span>
<span class="cstat-no" title="statement not covered" >    '  const response = await llm(prompt); // assume llm(text) =&gt; string\n' +</span>
<span class="cstat-no" title="statement not covered" >    "  const questions = response.split('\\n').filter(Boolean).slice(0, 3);\n" +</span>
<span class="cstat-no" title="statement not covered" >    '  return { questions };\n' +</span>
<span class="cstat-no" title="statement not covered" >    '}\n\n' +</span>
<span class="cstat-no" title="statement not covered" >    'async function llm(input: string): Promise&lt;string&gt; {\n' +</span>
<span class="cstat-no" title="statement not covered" >    "  // placeholder for actual LLM call\n" +</span>
<span class="cstat-no" title="statement not covered" >    "  return 'What is the invariant?\\nWhich assumption might be false?\\nCan you restate the goal in your own words?';\n" +</span>
<span class="cstat-no" title="statement not covered" >    '}\n',</span>
<span class="cstat-no" title="statement not covered" >  pythonCodeExample: "# Minimal Socratic Coach loop (Python)\n" +</span>
<span class="cstat-no" title="statement not covered" >    "from typing import List, Dict\n\n" +</span>
<span class="cstat-no" title="statement not covered" >    "def llm(prompt: str) -&gt; str:\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    # placeholder for actual LLM call\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    return (\"What is the invariant?\\n\"\n" +</span>
<span class="cstat-no" title="statement not covered" >    "            \"Which assumption might be false?\\n\"\n" +</span>
<span class="cstat-no" title="statement not covered" >    "            \"Can you restate the goal in your own words?\")\n\n" +</span>
<span class="cstat-no" title="statement not covered" >    "def socratic_coach(goal: str, attempt: str) -&gt; Dict[str, List[str]]:\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    prompt = (\"You are a Socratic coach. \"\n" +</span>
<span class="cstat-no" title="statement not covered" >    "              f\"Goal: {goal}\\n\"\n" +</span>
<span class="cstat-no" title="statement not covered" >    "              f\"Attempt: {attempt}\\n\"\n" +</span>
<span class="cstat-no" title="statement not covered" >    "              \"Ask 1–3 concise questions to guide the learner. Avoid giving the answer.\")\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    response = llm(prompt)\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    questions = [q for q in response.split('\\n') if q][:3]\n" +</span>
<span class="cstat-no" title="statement not covered" >    "    return { 'questions': questions }\n",</span>
<span class="cstat-no" title="statement not covered" >};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-09-30T16:03:45.290Z
            </div>
        <script src="../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../sorter.js"></script>
        <script src="../../../../../block-navigation.js"></script>
    </body>
</html>
    